<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بنك الدم - الصفحة الرئيسية</title>
    <style>
        :root {
            --primary-color: #e74c3c;
            --secondary-color: #2c3e50;
            --success-color: #27ae60;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, sans-serif;
        }

        body {
            background: #f5f5f5;
            min-height: 100vh;
        }

        .header {
            background: var(--primary-color);
            color: white;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .login-btn {
            background: transparent;
            border: 2px solid white;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .login-btn:hover {
            background: white;
            color: var(--primary-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        .hero {
            text-align: center;
            margin-bottom: 3rem;
            padding: 3rem 1rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .hero h1 {
            color: var(--secondary-color);
            margin-bottom: 1rem;
            font-size: 2.5rem;
        }

        .hero p {
            color: #666;
            margin-bottom: 2rem;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .cta-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 4px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
        }

        .donate-btn {
            background: var(--success-color);
            color: white;
        }

        .request-btn {
            background: var(--primary-color);
            color: white;
        }

        .form-container {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
            display: none;
        }

        .form-title {
            color: var(--secondary-color);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #444;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .submit-btn {
            width: 100%;
            padding: 1rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 1rem;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
        }

        .close {
            float: left;
            cursor: pointer;
            font-size: 1.5rem;
        }

        .info-section {
            margin-top: 3rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .info-card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .info-card h3 {
            color: var(--secondary-color);
            margin-bottom: 1rem;
        }

        .info-card p {
            color: #666;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">بنك الدم</div>
            <button class="login-btn" onclick="showLoginModal()">تسجيل الدخول</button>
        </nav>
    </header>

    <div class="container">
        <section class="hero">
            <h1>تبرعك بالدم ينقذ حياة</h1>
            <p>كل تبرع بالدم يمكن أن يساعد في إنقاذ ما يصل إلى ثلاثة أشخاص. انضم إلينا اليوم وكن جزءاً من هذا العمل الإنساني.</p>
            <div class="cta-buttons">
                <button class="cta-btn donate-btn" onclick="showDonationForm()">تبرع بالدم</button>
                <button class="cta-btn request-btn" onclick="showRequestForm()">طلب دم</button>
            </div>
        </section>

        <div id="donationForm" class="form-container">
            <h2 class="form-title">نموذج التبرع بالدم</h2>
            <form onsubmit="handleDonationSubmit(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label>الاسم الكامل</label>
                        <input type="text" class="form-control" name="name" required>
                    </div>
                    <div class="form-group">
                        <label>تاريخ الميلاد</label>
                        <input type="date" class="form-control" name="birthDate" required>
                    </div>
                    <div class="form-group">
                        <label>رقم الهوية</label>
                        <input type="text" class="form-control" name="idNumber" required>
                    </div>
                    <div class="form-group">
                        <label>رقم الجوال</label>
                        <input type="tel" class="form-control" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label>البريد الإلكتروني</label>
                        <input type="email" class="form-control" name="email">
                    </div>
                    <div class="form-group">
                        <label>فصيلة الدم</label>
                        <select class="form-control" name="bloodType" required>
                            <option value="">اختر فصيلة الدم</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>الوزن (كجم)</label>
                        <input type="number" class="form-control" name="weight" required>
                    </div>
                    <div class="form-group">
                        <label>العنوان</label>
                        <input type="text" class="form-control" name="address" required>
                    </div>
                    <div class="form-group">
                        <label>المدينة</label>
                        <input type="text" class="form-control" name="city" required>
                    </div>
                    <div class="form-group">
                        <label>آخر تبرع بالدم (تقريباً)</label>
                        <input type="date" class="form-control" name="lastDonation">
                    </div>
                </div>
                <div class="form-group">
                    <label>هل تعاني من أي أمراض مزمنة؟</label>
                    <textarea class="form-control" name="medicalConditions" rows="3"></textarea>
                </div>
                <button type="submit" class="submit-btn">تقديم طلب التبرع</button>
            </form>
        </div>

        <div id="requestForm" class="form-container">
            <h2 class="form-title">نموذج طلب دم</h2>
            <form onsubmit="handleRequestSubmit(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label>اسم المريض</label>
                        <input type="text" class="form-control" name="patientName" required>
                    </div>
                    <div class="form-group">
                        <label>رقم الملف الطبي</label>
                        <input type="text" class="form-control" name="medicalFileNumber" required>
                    </div>
                    <div class="form-group">
                        <label>المستشفى</label>
                        <input type="text" class="form-control" name="hospital" required>
                    </div>
                    <div class="form-group">
                        <label>القسم</label>
                        <input type="text" class="form-control" name="department" required>
                    </div>
                    <div class="form-group">
                        <label>فصيلة الدم المطلوبة</label>
                        <select class="form-control" name="bloodType" required>
                            <option value="">اختر فصيلة الدم</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>عدد الوحدات المطلوبة</label>
                        <input type="number" class="form-control" name="unitsNeeded" required min="1">
                    </div>
                    <div class="form-group">
                        <label>اسم مقدم الطلب</label>
                        <input type="text" class="form-control" name="requesterName" required>
                    </div>
                    <div class="form-group">
                        <label>رقم الجوال</label>
                        <input type="tel" class="form-control" name="phone" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>ملاحظات إضافية</label>
                    <textarea class="form-control" name="notes" rows="3"></textarea>
                </div>
                <button type="submit" class="submit-btn">تقديم طلب الدم</button>
            </form>
        </div>

        <div id="loginModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeLoginModal()">&times;</span>
                <h2 class="form-title">تسجيل الدخول</h2>
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label>اسم المستخدم</label>
                        <input type="text" class="form-control" name="username" required>
                    </div>
                    <div class="form-group">
                        <label>كلمة المرور</label>
                        <input type="password" class="form-control" name="password" required>
                    </div>
                    <button type="submit" class="submit-btn">دخول</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // بيانات المستخدمين (في الواقع يجب أن تكون في قاعدة بيانات آمنة)
        const users = [
            { username: 'admin', password: 'admin123', role: 'admin' },
            { username: 'staff', password: 'staff123', role: 'staff' }
        ];

        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'flex';
        }

        function closeLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
        }

        function handleLogin(event) {
            event.preventDefault();
            const username = event.target.username.value;
            const password = event.target.password.value;
            
            const user = users.find(u => u.username === username && u.password === password);
            
            if (user) {
                localStorage.setItem('currentUser', JSON.stringify(user));
                if (user.role === 'admin') {
                    window.location.href = 'admin_dashboard.html';
                } else {
                    window.location.href = 'staff_requests.html';
                }
            } else {
                alert('اسم المستخدم أو كلمة المرور غير صحيحة');
            }
        }

        function showDonationForm() {
            document.getElementById('donationForm').style.display = 'block';
            document.getElementById('requestForm').style.display = 'none';
            window.scrollTo({ top: document.getElementById('donationForm').offsetTop, behavior: 'smooth' });
        }

        function showRequestForm() {
            document.getElementById('requestForm').style.display = 'block';
            document.getElementById('donationForm').style.display = 'none';
            window.scrollTo({ top: document.getElementById('requestForm').offsetTop, behavior: 'smooth' });
        }

        function handleDonationSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const donationData = {
                id: Date.now(),
                type: 'donation',
                name: formData.get('name'),
                birthDate: formData.get('birthDate'),
                idNumber: formData.get('idNumber'),
                phone: formData.get('phone'),
                email: formData.get('email'),
                bloodType: formData.get('bloodType'),
                weight: formData.get('weight'),
                address: formData.get('address'),
                city: formData.get('city'),
                lastDonation: formData.get('lastDonation'),
                medicalConditions: formData.get('medicalConditions'),
                status: 'pending',
                date: new Date().toLocaleString('ar')
            };

            const donations = JSON.parse(localStorage.getItem('bloodDonations')) || [];
            donations.push(donationData);
            localStorage.setItem('bloodDonations', JSON.stringify(donations));

            alert('تم تسجيل طلب التبرع بنجاح. سيتم التواصل معك قريباً.');
            event.target.reset();
            document.getElementById('donationForm').style.display = 'none';
        }

        function handleRequestSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const requestData = {
                id: Date.now(),
                type: 'request',
                patientName: formData.get('patientName'),
                medicalFileNumber: formData.get('medicalFileNumber'),
                hospital: formData.get('hospital'),
                department: formData.get('department'),
                bloodType: formData.get('bloodType'),
                unitsNeeded: formData.get('unitsNeeded'),
                requesterName: formData.get('requesterName'),
                phone: formData.get('phone'),
                notes: formData.get('notes'),
                status: 'pending',
                date: new Date().toLocaleString('ar')
            };

            const requests = JSON.parse(localStorage.getItem('bloodRequests')) || [];
            requests.push(requestData);
            localStorage.setItem('bloodRequests', JSON.stringify(requests));

            alert('تم تسجيل طلب الدم بنجاح. سيتم التواصل معك قريباً.');
            event.target.reset();
            document.getElementById('requestForm').style.display = 'none';
        }

        // التحقق من حالة تسجيل الدخول عند تحميل الصفحة
        window.onload = function() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser) {
                if (currentUser.role === 'admin') {
                    window.location.href = 'admin_dashboard.html';
                } else if (currentUser.role === 'staff') {
                    window.location.href = 'staff_requests.html';
                }
            }
        };

        // إضافة أقسام معلومات إضافية للصفحة
        window.onload = function() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (currentUser) {
                if (currentUser.role === 'admin') {
                    window.location.href = 'admin_dashboard.html';
                } else if (currentUser.role === 'staff') {
                    window.location.href = 'staff_requests.html';
                }
            }

            // إضافة قسم المعلومات
            const infoSection = document.createElement('section');
            infoSection.className = 'info-section';
            infoSection.innerHTML = `
                <div class="info-card">
                    <h3>شروط التبرع بالدم</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li>العمر بين 18 و65 سنة</li>
                        <li>الوزن أكثر من 50 كجم</li>
                        <li>أن تكون بصحة جيدة</li>
                        <li>مرور 3 أشهر على آخر تبرع</li>
                        <li>النوم جيداً ليلة التبرع</li>
                    </ul>
                </div>
                <div class="info-card">
                    <h3>فوائد التبرع بالدم</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li>تجديد خلايا الدم</li>
                        <li>تقليل خطر أمراض القلب</li>
                        <li>حرق السعرات الحرارية</li>
                        <li>فحص صحي مجاني</li>
                        <li>إنقاذ حياة الآخرين</li>
                    </ul>
                </div>
                <div class="info-card">
                    <h3>إحصائيات مهمة</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li>كل 3 ثواني شخص يحتاج للدم</li>
                        <li>تبرع واحد ينقذ 3 أشخاص</li>
                        <li>5% فقط من المؤهلين يتبرعون</li>
                        <li>حاجة مستمرة لجميع الفصائل</li>
                    </ul>
                </div>
            `;
            document.querySelector('.container').appendChild(infoSection);

            // إضافة شريط التذييل
            const footer = document.createElement('footer');
            footer.style.cssText = `
                background: #2c3e50;
                color: white;
                padding: 2rem 1rem;
                margin-top: 3rem;
                text-align: center;
            `;
            footer.innerHTML = `
                <div class="container">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; text-align: right;">
                        <div>
                            <h3 style="margin-bottom: 1rem;">ساعات العمل</h3>
                            <p>السبت - الخميس: 8 صباحاً - 8 مساءً</p>
                            <p>الجمعة: 2 ظهراً - 8 مساءً</p>
                        </div>
                        <div>
                            <h3 style="margin-bottom: 1rem;">تواصل معنا</h3>
                            <p>الهاتف: 920000000</p>
                            <p>البريد: info@bloodbank.com</p>
                        </div>
                        <div>
                            <h3 style="margin-bottom: 1rem;">العنوان</h3>
                            <p>المدينة الطبية</p>
                            <p>شارع الملك عبدالعزيز</p>
                        </div>
                    </div>
                    <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1);">
                        <p>جميع الحقوق محفوظة © ${new Date().getFullYear()} بنك الدم</p>
                    </div>
                </div>
            `;
            document.body.appendChild(footer);
        }
    </script>
</body>
</html>